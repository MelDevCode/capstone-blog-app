<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My Blog</title>
    <link rel="stylesheet" href="/styles/styles.css" />
  </head>
  <body>
    <%- include("partials/header.ejs") %>

    <h1>Welcome to My Blog Web App</h1>
    <h2>A place where you can created, edit and delete posts.</h2>

    <div>
        <form action="/newPost" method="POST">
            <label>Post title:</label>
            <input type="text" id="ptitle" name="ptitle">
            <label>Post:</label>
            <input type="text" id="ptext" name="ptext">
            <button type="submit">Post</button>
        </form>
        <div>

        </div>
    </div>

    <% if (posts.length > 0) { %>
        <% for (let i = 0; i < posts.length; i++) { %>
            <div class="card">
                <h3>Title:</h3><p><%= posts[i].title %></p>
                <h3>Post:</h3><p><%= posts[i].postText %></p>
                <p>Id: <%= posts[i].id %></p>
                <p>Created on: <%= posts[i].date %></p>
                <p>Characters: <%= posts[i].charCounter %></p>
                <form action="/delete" method="POST">
                  <button type="submit" value="<%= posts[i].id %>" name="delete">Delete</button>
                </form>
                <form action="/edit" method="POST">
                  <button type="submit" value="<%= posts[i].id %>" name="edit">Edit</button>
                </form>
                
            </div>
        <% } %>
    <% } else { %>
        <h4 hidden>No posts yet!</h4>
    <% } %>

    <%- include("partials/footer.ejs") %>
  </body>
</html>